select 추출할 애트리뷰트
from 추출에 필요한 테이블
where 추출하기 위한 조건
group by 그룹별로 묶을 기준이 되는 애트리뷰트
having 그룹이 만족해야할 조건
order by 추출한 데이터의 정렬

select *(컬럼명) from student(테이블명) order by num(컬럼2) desc; 컬럼을 내림차순
name asc;오름차순 저절로 입력됨

select num(컬럼) as'학번', name(컬럼2) as '이름' from student(테이블명); 컬럼을 이름으로 바꿔서 표시(출력할때만)

select distinct(중복제외) 컬럼 from student(테이블명); 중복제외

select name, age, age + 5 from student; age의 사칙연산 적용해서 표시

select 컬럼, 컬럼2 from 테이블 where 컬럼2>= 20 and 컬럼2 <= 40;
=
select 컬럼, 컬럼2 from 테이블 where age between 20 and 40;

select num, name frome 테이블 where adress = '서울' or address = '인천';

select num, name from 테이블 where address in('서울','인천');

select 컬럼, 컬럼2 from 테이블 where name LIKE '김%';

언더바 1번하면 한글자 2번하면 두글자(name 타입이 varchar이여야 함)
where age >20 and address = '서울' or address = '인천'; and 먼저 계산함(순서가 뒷죽박죽)
where age >20 and (address = '서울' or address = '인천');
괄호 먼저 계산

합집합교집합 차집합

합집합
select 컬럼, 컬럼2 from 테이블 where name LIKE '김%'
언더바 1번하면 한글자 2번하면 두글자(name 타입이 varchar이여야 함)
UNION
where age >20 and address = '서울';

교집합 인터섹션

select 테이블1.컬럼, 테이블2.컬럼2,... from 테이블1, 테이블2
inner join student_2
on student_1.num = student_2.num;

차집합

select 테이블1.컬럼, 테이블2.컬럼2,... from 테이블1, 테이블2
where student_1.num not in ( select num from student_2)
(where department = '데이터명' - > '데이터명' 뺴고 차집합)

2020.1.23

대소문자 구별

소문자로 바꿈
select 컬럼1, lower(컬럼1) from 테이블;

대문자로 바꿈
select 컬럼1, upper(컬럼1) from 테이블;

select 컬럼1, lencth(컬럼2) from student; 바이트 갯수로 변환해서 표시

select num, char_lencth(컬럼2) from student; 바이트 갯수로 변환해서 표시(문자열)

select num, concat(컬럼2) from student; 결합

서브스트링 문자열에서 내가 지정한 위치서부터 원하는 만큼 추출하는 문자를 추출할때 쓰는 함수
select 컬럼2, substring(jumin, 8,1)(컬럼1, 8번째 글자, 숫자지정(ex)남자 1 여자 2)) as 성별구분 from student;

인에스티알(일치할때는 1 일치하지 않을때 0)
select 컬럼2, instr(name,'abc')(ex)컬럼1,'대구') from student; 대구 1 그 외 지역 0

엘패드 왼쪽 알패드 오른쪽
부족한 글자수 채우기
select 컬럼2, lpad(id, 10, #) as '아이디' from student; 
select 컬럼2, rpad(id, 10, #) as '아이디' from student;

ltrim rtrim 공백을 제거

select 컬럼2, ltrim(id) from student; 왼쪽의 공백을 제거
select 컬럼2, rtrim(id) from student; 오른쪽의 공백을 제거

trim 자르다 공백을 잘라내서 제거
select 컬럼2, trim(leading '20' from 컬럼1) from student; 왼쪽에서 20을 지워라
select 컬럼2, trim(trailing '20' from 컬럼1) from student; 오른쪽에서 20을 지워라
select 컬럼2, trim(both '20' from 컬럼1) from student; 양쪽에서 20을 지워라

case 
select num, case 컬럼1 when 'a' then '최우수' when 'b' then '우수' when 'c' then '보통' else '기본' end from student;

if문 만약

select if(hakjum = 'a', '우수', '보통') from student;

문제 주민번호

하이픈 뒤에 1이나 3이면 남자 2이나 4면 여자

case
slect num, case substring(jumin, 8,1) when '1' then '남자' when '3' then '남자' when '2' then '여자' when '4' then '여자' else '모름'
end from student;

if
select name, if(substring(jumin_number,8,'1') = '1' or substring(jumin_number,8,'1') = '3', "남자", "여자") as "성별"
from jumin;

case문(if문)은 문장이 길어서 넣을 실용적인 부분은 별로

문제2 학생 테이블에 점수 들어가있는 컬럼으로 점수 100 ~ 90 A 90~80 B 80~70 C else F 출력
if
select name, if(score >='90', 'A학점', if(score >=' 80', 'B학점', if(score >=' 70', 'C학점','F학점'))) from professor2 ;

문제3 출생연도가 들어가 있는 컬럼에 출생연도를 보고 짝수이면 건강검진 대상 아니면 건강검진 미대상

select name, if(substring(jumin_number,2,1)%2=0,'대상','미대상') as 건강검진 from jumin;

내가 원하는 문자열을 찾아서 바꾸는 함수
SELECT NUM, REPLACE(ID, '201', '211') FROM student;

숫자완 관련된 함수 반올림하는 함수 ROUND
SELECT NUM, round(ID, 3) FROM student;

내림하는 함수
SELECT NUM, truncate(ID, 3) FROM student;

나머지를 구하는 함수
SELECT NUM, mod(ID, 3) FROM student;

제곱근을 구하는 함수
SELECT NUM, pow(age) FROM student;

mysql 기준으로 날짜를 표시
SELECT NUM, now() FROM student;

???? 생일 기준으로 +5일 앞이 몇일인지 알 수 있음
select num, date_add(birthday, interval 5 day) from student;

second, minute, hour, day, week, month, year

마지막 달일
select num, last_day(birthday) from student;

데이터 들어가 있는 갯수를 세주는 함수
select count(*) from student;
합계
select sum(korea), sum(english), sum(math) from student;
평균
select avg(korea), avg(english), avg(math) from student;

최소값
select min(korea), min(english), min(math) from student;
최대값
select max(korea), max(english), max(math) from student;

묶음별로 표시
select grade, avg(korea), avg(english), avg(math) from student where sex = '남자' group by grade;

select grade, avg(korea), avg(english), avg(math) from student where sex = '남자' 
group by grade having avr(korea)>90;
'
서브쿼리 (하위)
쿼리안에 또 다른 쿼리를 넣을 수있음
select name, phone from sutdent
where address = (select address from student where name = '김정준');

다중서브쿼리
select name, phone, email from student
where email in(select email from student where email like '%naver.com');

다중 퀄럼 서브쿼리
select name, phone, email from student 
where (phone, email) in ( select phone, email from student where email like '%naver.com');

설날 끝나고 문제 줌 다 이해하기

이너조인
select 컬럼1, 컬럼2,...from 테이블 join 테이블2
on 테이블.컬럼1 = 테이블2.컬럼2

아우터테이블
select 테이블1.컬럼1, 테이블1.컬럼2,..., 테이블2.컬럼1, 테이블2.컬럼2,... 
from 테이블 left(full, right) outer join 테이블2
on 테이블.컬럼1 = 테이블2.컬럼2

full outer
(left outer union right outer)
select 테이블1.컬럼1, 테이블1.컬럼2,..., 테이블2.컬럼1, 테이블2.컬럼2,... ,from 테이블 left outer join 테이블2
on 테이블.컬럼1 = 테이블2.컬럼2
union
select 테이블1.컬럼1, 테이블1.컬럼2,..., 테이블2.컬럼1, 테이블2.컬럼2,... ,from 테이블 right outer join 테이블2
on 테이블.컬럼1 = 테이블2.컬럼2

2020 1 28
인덱스

create index empindex ON employee (dno, salary);

select * from employee where dno=3 and salary = 400000;

인덱스 삭제
drop index student_idx(인덱스이름) on student(테이블 이름);

